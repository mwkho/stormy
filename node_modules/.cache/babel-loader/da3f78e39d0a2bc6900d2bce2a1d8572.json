{"ast":null,"code":"import _toConsumableArray from \"/home/mho/lighthouse/stormy/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/home/mho/lighthouse/stormy/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/mho/lighthouse/stormy/app/src/components/home_page/HomePage.js\";\nimport React, { useState, useEffect } from 'react';\nimport SearchBar from \"./SearchBar\";\nimport Logo from './Logo';\nimport Filter from './Filter';\nimport ResultsList from './ResultList';\nimport Loading from '../Loading';\nimport '../styles/homePage.css';\nimport { Typography } from '@material-ui/core';\n\nvar _require = require(\"../../lib/getCoordinates\"),\n    getMountainCoordinates = _require.getMountainCoordinates,\n    getTrailCoordinates = _require.getTrailCoordinates;\n\nvar SEARCHING = 'SEARCHING';\nvar SHOW = 'SHOW';\nexport default function HomePage(props) {\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      userInput = _useState2[0],\n      setUserInput = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      results = _useState4[0],\n      setResults = _useState4[1];\n\n  var _useState5 = useState('trail'),\n      _useState6 = _slicedToArray(_useState5, 2),\n      mode = _useState6[0],\n      setMode = _useState6[1];\n\n  var _useState7 = useState('SHOW'),\n      _useState8 = _slicedToArray(_useState7, 2),\n      loadStatus = _useState8[0],\n      setLoadStatus = _useState8[1];\n\n  useEffect(function () {\n    (mode === 'mountain' ? getMountainCoordinates(userInput) : getTrailCoordinates(userInput)).then(function (res) {\n      setResults(_toConsumableArray(res)); // setLoadStatus('SHOW') \n\n      setTimeout(function () {\n        return setLoadStatus('SHOW');\n      }, 500);\n    }).catch(function (err) {\n      // reset user input on error\n      setResults([]);\n      console.log(err.message);\n    });\n  }, [userInput]);\n  return /*#__PURE__*/React.createElement(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Logo, {\n    width: 200,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    display: \"block\",\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, \"Look up weather forecasts and avalanche bulletins all in one place!\"), /*#__PURE__*/React.createElement(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, \"Select either 'Trail' or 'Mountain' and start typing to begin.\"), /*#__PURE__*/React.createElement(Filter, {\n    mode: mode,\n    setMode: setMode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(SearchBar, {\n    setLoadStatus: setLoadStatus,\n    searchMode: mode,\n    onSearch: function onSearch(userInput) {\n      setUserInput(userInput);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }), loadStatus === SHOW && /*#__PURE__*/React.createElement(ResultsList, {\n    results: results,\n    display: props.display,\n    setPOI: props.setPOI,\n    setInformation: props.setInformation,\n    type: mode,\n    setPlaceId: props.setPlaceId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 29\n    }\n  }), loadStatus === SEARCHING && /*#__PURE__*/React.createElement(Loading, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 34\n    }\n  }, \" Searching \")) // </>\n  ;\n}\n;","map":{"version":3,"sources":["/home/mho/lighthouse/stormy/app/src/components/home_page/HomePage.js"],"names":["React","useState","useEffect","SearchBar","Logo","Filter","ResultsList","Loading","Typography","require","getMountainCoordinates","getTrailCoordinates","SEARCHING","SHOW","HomePage","props","userInput","setUserInput","results","setResults","mode","setMode","loadStatus","setLoadStatus","then","res","setTimeout","catch","err","console","log","message","display","setPOI","setInformation","setPlaceId"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport SearchBar from \"./SearchBar\"\nimport Logo from './Logo'\nimport Filter from './Filter'\nimport ResultsList from './ResultList';\nimport Loading from '../Loading';\n\nimport '../styles/homePage.css';\nimport { Typography } from '@material-ui/core';\n\n\nconst {getMountainCoordinates, getTrailCoordinates} = require(\"../../lib/getCoordinates\")\nconst SEARCHING = 'SEARCHING'\nconst SHOW = 'SHOW'\n\n\nexport default function HomePage(props){\n  const [userInput, setUserInput] = useState(\"\")\n  const [results, setResults] = useState([])\n  const [mode, setMode] = useState('trail')\n  const [loadStatus, setLoadStatus] = useState('SHOW')\n\n  useEffect(() => {\n    (mode === 'mountain' ? getMountainCoordinates(userInput) : getTrailCoordinates(userInput))\n    .then((res) => {\n      setResults([...res])\n      // setLoadStatus('SHOW') \n      setTimeout( () => setLoadStatus('SHOW') , 500)\n    })\n    .catch(err => {\n      // reset user input on error\n      setResults([])\n      console.log(err.message)\n    })\n  }, [userInput])\n\n \n  return(\n  <main>\n  {/* <> */}\n    <Logo width={200}/>\n    <Typography  display=\"block\" gutterBottom>\n      {`Look up weather forecasts and avalanche bulletins all in one place!`}\n    </Typography>\n    <Typography>\n      {`Select either 'Trail' or 'Mountain' and start typing to begin.`}\n    </Typography>\n    <Filter mode={mode} setMode={setMode}/>\n    <SearchBar setLoadStatus={setLoadStatus} searchMode={mode} onSearch={userInput => {setUserInput(userInput)}}/>\n    \n    {loadStatus === SHOW && <ResultsList results={results} display={props.display} setPOI={props.setPOI} setInformation={props.setInformation} type={mode} setPlaceId={props.setPlaceId}/>}\n    {loadStatus === SEARCHING && <Loading> Searching </Loading> }\n\n  </main>\n  // </>\n  )\n\n};"]},"metadata":{},"sourceType":"module"}